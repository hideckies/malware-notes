---
import { getCollection } from "astro:content";
import BaseLayout from "../../../layouts/BaseLayout.astro";

const allMalwares = await getCollection('malware-families');
const types = [...new Set(allMalwares.map((malware: any) => malware.data.types).flat())];
types.sort();

const title = "Malware Categories";
const description = "";
---

<BaseLayout title={title + " | Malware Notes"} description={description}>
    <main class="my-6 md:mx-auto w-full md:w-2/3 p-2 flex flex-col gap-y-8">
        <h1 class="text-4xl text-center">{title}</h1>
        <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2">
            {types.map((t: string) => (
                t ? (
                    <a
                        href={`/malware-families/types/${t}`}
                        class="bg-slate-800 hover:bg-slate-700 px-2 py-4 text-white"
                    >
                        {t}
                    </a>
                ) : null
            ))}
        </div>
    </main>
</BaseLayout>